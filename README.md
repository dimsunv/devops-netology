08-ansible-04-roles
===

Creates three instances `clickhouse`, `lighthouse` and `vector` in yandex cloud.
---

1. Quick start
    - Export TF variables
    ```
    export TF_VAR_yc_token=<your registration token>
    export TF_VAR_yc_cloud_id=<yandex cloud id>   
    ```
    - Initialize terraform
    ```
    cd ./terraform
    terraform init
    terraform workspace new prod
    terraform plan
    terraform apply -auto-approve
    ```

2. Inventory file `prod.yml` and vector config file `vars.yml` is generated by `terraform/inventory.tf`

3. Directory and files description:
    - `group_vars` ansible group variables
    - `inventory` ansible inventory file directory
    - `modules` terraform modules
    - `terraform` start directory for play
    - `site.yml` ansible playbook
    - `requirements.yml` ansible roles list
